<%= form_with model: [:admin, @training_schedule], local: true do |f| %>
  <% if @training_schedule.errors.any? %>
    <div class="alert alert-danger">
      <h5><%= pluralize(@training_schedule.errors.count, "件のエラー") %>があります：</h5>
      <ul class="mb-0">
        <% @training_schedule.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="mb-3">
    <%= f.label :training_id, "研修", class: "form-label" %>
    <%= f.collection_select :training_id, @trainings, :id, :title, {}, class: "form-select" %>
  </div>

  <div class="mb-3">
    <%= f.label :start_time, "開始日時", class: "form-label" %>
    <%= f.datetime_local_field :start_time, class: "form-control w-auto" %>
  </div>

  <div class="mb-3">
    <%= f.label :end_time, "終了日時", class: "form-label" %>
    <%= f.datetime_local_field :end_time, class: "form-control w-auto" %>
  </div>

  <div class="mb-3">
    <%= f.label :room_id, "会場", class: "form-label" %>
    <%= f.collection_select :room_id, @rooms, :id, :name, {}, class: "form-select" %>
  </div>

  <div class="mb-3">
    <%= f.label :instructor_id, "講師", class: "form-label" %>
    <%= f.collection_select :instructor_id, @instructors, :id, :name,
        { prompt: "未定" }, class: "form-select" %>
  </div>

  <div class="mt-3">
    <%= f.submit(@training_schedule.persisted? ? "更新" : "作成",
        class: "btn btn-primary") %>

    <%= link_to "戻る",
        admin_training_schedules_path,
        class: "btn btn-secondary ms-2" %>

    <% if @training_schedule.persisted? %>
      <%= link_to "削除",
        admin_training_schedule_path(@training_schedule),
        data: { turbo_method: :delete, turbo_confirm: "本当に削除しますか？" },
        class: "btn btn-danger" %>
        <% end %>
  </div>
<% end %>
